# -*- coding: utf-8 -*-
"""show_results.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1RE-ZAxCZcn_itSxABtFWMFf9r9zXhGVg
"""

import pandas as pd
import os
os.environ["CUDA_DEVICE_ORDER"] = "PCI_BUS_ID"
os.environ["CUDA_VISIBLE_DEVICES"] = "0"
import matplotlib
#matplotlib.use("Agg")
import matplotlib.pyplot as plt

file_name = 'single_att_results/'
result_path_list = os.listdir(file_name)

for path in result_path_list:
    df_path = file_name + path
    df = pd.read_csv(df_path, index_col = 0)
    with pd.option_context('display.max_rows', None, 'display.max_columns', None): 
        print(df)
        df.set_index(['model_name'], inplace=True)
        df['ic_acc'].plot(title = path, label = 'in-context acc')
        df['oc_acc'].plot(title = path, label = 'out-context acc')
        plt.legend()
        plt.show()


